<template>
  <div class="">
    <MarqueeLine :is_index="true" text="–º–∞–≥–∞–∑–∏–Ω –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π –æ–¥–µ–∂–¥—ã "/>
    <section class="categories">
      <div class="container">
        <div class="categories-wrapper">
          <div v-if="category.is_at_home" @click="$router.push(`/category/${category.name_slug}`)" class="categories-item"
               :style="`background: url(${category.image}) center`"
               v-for="(category,index) in this.$store.getters['categories/getCategories']"
               :key="category.id">
            <!--            :class="category.is_for_man ? 'man' : 'woman'"-->
            <p class="categories-item__text" >{{category.name}}</p>
          </div>
        </div>
      </div>
    </section>
    <section>
      <div class="container">
        <client-only>
          <swiper :options="bannerOptions">
            <div class="swiper-pagination" slot="pagination"></div>
            <swiper-slide v-for="banner in banners" :key="banner.id">
              <div class="offer-banner-item">
                <a :href="banner.url">
                   <img :src="banner.image" >
                </a>

              </div>
            </swiper-slide>
          </swiper>
          <div class="swiper-pagination" slot="pagination"></div>
        </client-only>
      </div>
    </section>
    <section class="collection" v-for="collection in collections" :key="collection.id">
      <div class="container">
        <h2 class="section-header">
          {{collection.name}}
        </h2>

        <p class="section-header__link">
          <nuxt-link :to="`/collection/${collection.name_slug}`">–°–º–æ—Ç—Ä–µ—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é</nuxt-link>
        </p>
        <div class="collection-wrapper">
          <!--           <ItemCard v-for="item in _.takeRight(collection.collection_items, 3)" :key="item.id"-->
          <ItemCard v-for="item in _.take(collection.collection_items, 4)" :key="item.id"
                    :collection_name="item.subcategory.name"
                    :item_name="item.name"
                    :item_price="item.price"
                    :discount="item.discount"
                    :item_slug="item.name_slug"
                    :cat_slug="item.category"
                    :subcat_slug="item.subcategory.name_slug"
                    :image="item.images"/>
        </div>
      </div>
    </section>

    <section class="collection">
      <div class="container">
        <h2 class="section-header">
          –ù–æ–≤–∏–Ω–∫–∏
        </h2>
        <div class="collection-wrapper">
          <!--           <ItemCard v-for="item in _.takeRight(collection.collection_items, 3)" :key="item.id"-->
          <!--         <ItemCard v-for="item in _.take(collection.collection_items, 3)" :key="item.id"-->
          <ItemCard v-for="item in new_items" :key="item.id"
                    :collection_name="item.subcategory.name"
                    :item_name="item.name"
                    :item_price="item.price"
                    :discount="item.discount"
                    :item_slug="item.name_slug"
                    :cat_slug="item.category"
                    :subcat_slug="item.subcategory.name_slug"
                    :image="item.images"/>
        </div>
      </div>
    </section>
    <!--    <section class="about">-->
    <!--      <div class="container">-->
    <!--        <div class="about-wrapper">-->
    <!--          <div class="about-img">-->
    <!--            <el-image  src="/index-about.png" lazy></el-image>-->
    <!--          </div>-->
    <!--          <div class="about-text">-->
    <!--            <h3 class="section-header">–ò–ù–¢–ï–†–ù–ï–¢-–ú–ê–ì–ê–ó–ò–ù –û–î–ï–ñ–î–´ –î–õ–Ø –°–û–í–†–ï–ú–ï–ù–ù–´–• –í–†–ê–ß–ï–ô</h3>-->
    <!--            <p class="text">DOC‚ÄôS ‚Äî —ç—Ç–æ –æ–ø—ã—Ç –≤—Ä–∞—á–µ–π –∏ —Ö–æ—Ä–æ—à–∏–π –≤–∫—É—Å –¥–∏–∑–∞–π–Ω–µ—Ä–æ–≤: –≤–º–µ—Å—Ç–µ –º—ã –¥–µ–ª–∞–µ–º —Å—Ç–∏–ª—å–Ω—É—é –∏ –∫–æ–º—Ñ–æ—Ä—Ç–Ω—É—é-->
    <!--              –º–µ–¥–∏—Ü–∏–Ω—Å–∫—É—é –æ–¥–µ–∂–¥—É. –ú—ã –ø—Ä–∏–¥—É–º—ã–≤–∞–µ–º –ª–∞–∫–æ–Ω–∏—á–Ω—ã–µ –∏ —É–¥–æ–±–Ω—ã–µ –º–æ–¥–µ–ª–∏,-->
    <!--              –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–≥–ª—è–¥—è—Ç —ç—Å—Ç–µ—Ç–∏—á–Ω–æ –∏ –Ω–µ –º–µ—à–∞—é—Ç –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–±–æ—Ç—ã.-->
    <!--            </p>-->
    <!--            <nuxt-link class="link" to="/about">–£–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ</nuxt-link>-->
    <!--          </div>-->
    <!--        </div>-->
    <!--      </div>-->
    <!--    </section>-->
    <section class="about-new">
      <div class="container">
        <h1 class="section-header">–ò–ù–¢–ï–†–ù–ï–¢-–ú–ê–ì–ê–ó–ò–ù –û–î–ï–ñ–î–´ –î–õ–Ø –°–û–í–†–ï–ú–ï–ù–ù–´–• –í–†–ê–ß–ï–ô</h1>
        <p>DOC‚ÄôS ‚Äî —ç—Ç–æ –æ–ø—ã—Ç –≤—Ä–∞—á–µ–π –∏ —Ö–æ—Ä–æ—à–∏–π –≤–∫—É—Å –¥–∏–∑–∞–π–Ω–µ—Ä–æ–≤: –≤–º–µ—Å—Ç–µ –º—ã –¥–µ–ª–∞–µ–º —Å—Ç–∏–ª—å–Ω—É—é –∏ –∫–æ–º—Ñ–æ—Ä—Ç–Ω—É—é –º–µ–¥–∏—Ü–∏–Ω—Å–∫—É—é –æ–¥–µ–∂–¥—É. –ú—ã –ø—Ä–∏–¥—É–º—ã–≤–∞–µ–º –ª–∞–∫–æ–Ω–∏—á–Ω—ã–µ –∏ —É–¥–æ–±–Ω—ã–µ –º–æ–¥–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–≥–ª—è–¥—è—Ç —ç—Å—Ç–µ—Ç–∏—á–Ω–æ –∏ –Ω–µ –º–µ—à–∞—é—Ç –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–±–æ—Ç—ã.</p>
        <div style="display: flex;justify-content: center">
          <nuxt-link style="padding: 25px 70px" class="btn" to="/about">—É–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ</nuxt-link>
        </div>

      </div>
    </section>
    <section>
      <div class="container">
        <img src="/i.png" alt="">
      </div>
    </section>
    <section class="feedback">
      <div class="container">
        <h2 class="section-header">
          –û–¢–ó–´–í–´
        </h2>
        <div class="feedback-wrapper">
          <div class="feedback-item" v-for="item in feedbacks":key="item.id">
            <div class="feedback-item__top">
              <img :src="`f${item.id}.png`" alt="">
              <div class="feedback-item__top-name">
                <p>{{item.from}} <span>{{item.nick}}</span></p>
                <el-rate
                  v-model="item.rate"
                  disabled

                  :colors="['#519999', '#519999', '#519999']">

                </el-rate>
              </div>
            </div>
            <div class="feedback-item__bottom">
              <p>{{item.text}}</p>
            </div>

          </div>
        </div>
      </div>
    </section>
    <section class="social">
      <div class="container">
        <div class="social-top">
          <h3 class="text text-300 text-center text-upper"><a href="https://www.instagram.com/docsuniform/" target="_blank">–ø–æ–¥–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å –Ω–∞ –Ω–∞—à –∏–Ω—Å—Ç–∞–≥—Ä–∞–º</a></h3>
          <p class="text-center"><a href="https://www.instagram.com/docsuniform/" target="_blank" class="text text-f-80">@docsuniform</a></p>
        </div>
        <div class="social-wrapper">
          <div class="social-item">
            <a href="https://www.instagram.com/docsuniform/" target="_blank">
              <img  src="/i1.jpg" >
            </a>

          </div>
          <div class="social-item">
            <a href="https://www.instagram.com/docsuniform/" target="_blank">
              <img  src="/i2.jpg" >
            </a>

          </div>
          <div class="social-item">
            <a href="https://www.instagram.com/docsuniform/" target="_blank">
              <img  src="/i3.jpg" >
            </a>

          </div>
          <div class="social-item">
            <a href="https://www.instagram.com/docsuniform/" target="_blank">
               <img  src="/i4.jpg" >
            </a>
          </div>
        </div>
      </div>
    </section>
  </div>
</template>

<script>

import ItemCard from "@/components/ItemCard";
import MarqueeLine from '@/components/Marquee'
export default {
  components: {
    ItemCard,
    MarqueeLine
  },
   head() {
    return {
      title: `–ú–∞–≥–∞–∑–∏–Ω –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π –æ–¥–µ–∂–¥—ã DOC's`,
      meta: [
        {
          hid: 'description',
          name: 'description',
          content: `
–ü–æ–∫—É–ø–∞–π—Ç–µ –Ω–µ–¥–æ—Ä–æ–≥–æ —Å—Ç–∏–ª—å–Ω—ã–µ –∏ –º–æ–¥–Ω—ã–µ –º—É–∂—Å–∫–∏–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ —Ö–∞–ª–∞—Ç—ã –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–µ DOC‚ÄôS ‚úÖ –ù–æ–≤—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏, –±—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –†–æ—Å—Å–∏–∏ –∏ –°–ù–ì, –Ω–∏–∑–∫–∏–µ —Ü–µ–Ω—ã ‚òùÔ∏è –ó–∞—Ö–æ–¥–∏—Ç–µ!`
        }
      ]
    }
  },
  async fetch({store}){
    await store.dispatch('categories/fetchCategories')
    await store.dispatch('cart/fetchCart')
  },
  async asyncData({$axios}){
    const get_banners = await $axios.get(`/api/get_banners`)
    const get_collections = await $axios.get(`/api/get_home_collections`)
    const get_new = await $axios.get(`/api/get_new_items`)
    const banners = get_banners.data
    const collections = get_collections.data
    const new_items = get_new.data
    return {banners,collections,new_items}
  },
  data() {
    return {
      rate1:4,
      feedbacks:[
        {id:1,rate:5,img:'',from:'–ò–ª–ª–∏–Ω–∞',nick:'ashata77',text:'–ö—É–ø–∏–ª–∏ —Ñ–æ—Ä–º—É —É –≤–∞—Å –≤ –º–∞–≥–∞–∑–∏–Ω–µ –¥–Ω—è 3 –Ω–∞–∑–∞–¥.. —Ä–µ—à–∏–ª–∏ –Ω–∞–ø–∏—Å–∞—Ç—å –æ—Ç–∑—ã–≤) –ö–∞—á–µ—Å—Ç–≤–æ —à–∏–∫–∞—Ä–Ω–æ–µ üëç –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥–æ—à–µ–ª –∫–æ—Å—Ç—é–º—á–∏–∫! üëå —Ü–µ–Ω—É –æ–ø—Ä–∞–≤–¥—ã–≤–∞–µ—Ç)) –ü—Ä–∏–¥—ë–º –µ—â–µ!)'},
        {id:2,rate:5,img:'',from:'Dahi Abdullayev',nick:'marmotte2016',text:'–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –í—ã –±—ã–ª–∏ –∞–±—Å–æ–ª—é—Ç–Ω–æ –ø—Ä–∞–≤—ã! –ö–æ—Å—Ç—é–º –ø–æ–¥–æ—à–µ–ª –ø—Ä–æ—Å—Ç–æ –∏–¥–µ–ø–∞–ª—å–Ω–æ! –¢–∞–∫–∞—è –ø—Ä–∏—è—Ç–Ω–∞—è –¥–ª—è —Ç–µ–ª–∞ —Ç–∫–∞–Ω—å! üòçüòçüòç –ò —Å–∞–º–∞ –º–æ–¥–µ–ª—å –æ–±–∞–ª–¥–µ–Ω–Ω–∞—è! –ü—Ä–æ —Ü–≤–µ—Ç —è –≤–æ–æ–±—â–µ –º–æ–ª—á—É - –º–æ–π –ª—é–±–∏–º—ã–π! –ü–æ–∂–ª–∞—É–π—Å—Ç–∞, –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ—Å—å –Ω–∞ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ–º! –¢–æ–ª—å–∫–æ –≤–ø–µ—Ä–µ–¥! –£—Å–ø–µ—Ö–æ–≤ –≤–∞–º –∏ —Ç–æ–ª—å–∫–æ –¥–æ–≤–æ–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤!üí∞'},
        {id:3,rate:4,img:'',from:'Darria',nick:'_protege_moi',text:'–°–ø–∞—Å–∏–±–æ –±–æ–ª—å—à–æ–µ, –∫–∞—á–µ—Å—Ç–≤–æ —Ö–æ—Ä–æ—à–µ–µ, —Ä–∞–∑–º–µ—Ä—ã —Ç–æ—á–Ω—ã–µ, –Ω–æ –≤–∏–∑ –∫–æ—Ä–æ—Ç–∫–∏–π, —Ö–æ—Ç—è –±—ã 1-2 —Å–º –¥–æ–±–∞–≤–∏—Ç—å –∏ –±—ã–ª–æ –±—ã –æ—Ç–ª–∏—á–Ω–æ. –ù–æ –≤—Å–µ —Ä–∞–≤–Ω–æ –Ω–∞–º–Ω–æ–≥–æ –ª—É—á—à–µ —á–µ–º —É –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π'},
      ],
      bannerOptions: {
        slidesPerView: 1,

        //centeredSlides: true,
        pagination: {
          el: '.swiper-pagination',
          dynamicBullets: true
        },
        navigation: {
          nextEl: '.swiper-button-next',
          prevEl: '.swiper-button-prev',
        },
        // breakpoints: {
        //   // when window width is >= 320px
        //   320: {
        //     centeredSlides: true,
        //     slidesPerView: 1,
        //     spaceBetween: 20
        //   },
        //   // when window width is >= 480px
        //   480: {
        //     slidesPerView: 1,
        //     spaceBetween: 30
        //   },
        //   // when window width is >= 640px
        //   640: {
        //     slidesPerView: 1,
        //     spaceBetween: 40
        //   }
        // }
      },
    }
  }
}
</script>
<style lang="sass">
.social-item
  img
    width: 300px
    height: 300px
    object-fit: cover
</style>


